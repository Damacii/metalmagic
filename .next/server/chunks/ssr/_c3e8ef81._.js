module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},33095,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(33354),g=a.r(94915),h=a.r(67161),i=f._(a.r(2305));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},71987,(a,b,c)=>{b.exports=a.r(33095)},87776,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71987);function e({items:a}){let[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)([]),i=a=>{a.preventDefault()};(0,c.useEffect)(()=>{if(null===e)return;let b=b=>{"Escape"===b.key?f(null):("ArrowRight"===b.key&&f(b=>null===b?b:(b+1)%a.length),"ArrowLeft"===b.key&&f(b=>null===b?b:(b-1+a.length)%a.length))};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[e,a.length]);let j=(0,c.useMemo)(()=>a.filter(a=>!g.includes(a.src)),[a,g]),k=null!==e?j[e]:null;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"columns-1 sm:columns-2 lg:columns-4 [column-gap:1rem]",children:j.map((a,c)=>(0,b.jsxs)("button",{type:"button",onClick:()=>f(c),onDragStart:i,style:{WebkitTouchCallout:"none"},className:"group relative mb-4 w-full break-inside-avoid overflow-hidden rounded-2xl border border-white/10 bg-white/5 text-left",children:[(0,b.jsx)(d.default,{src:a.src,alt:`${a.tags[0]??"Project"} project`,width:640,height:480,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 25vw",quality:70,unoptimized:!0,draggable:!1,onDragStart:i,onError:()=>h(b=>b.includes(a.src)?b:[...b,a.src]),className:"pointer-events-none h-auto w-full select-none transition duration-500 group-hover:scale-[1.02]"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),(0,b.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-10",style:{backgroundImage:"url('/gallery/logo metal magic white.png')",backgroundRepeat:"repeat",backgroundSize:"140px 140px",backgroundPosition:"center"}})]},`${a.src}-${c}`))}),k?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 px-4 py-10",role:"dialog","aria-modal":"true",style:{WebkitTouchCallout:"none"},children:[(0,b.jsx)("button",{type:"button","aria-label":"Close",onClick:()=>f(null),className:"absolute right-6 top-6 rounded-full bg-[#1D3461] force-white px-3 py-2 text-sm font-semibold text-white transition hover:bg-black",children:"X"}),(0,b.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.default,{src:k.src,alt:`${k.tags[0]??"Project"} enlarged`,width:1600,height:1200,sizes:"(max-width: 768px) 95vw, 90vw",unoptimized:!0,loading:"eager",draggable:!1,onDragStart:i,onError:()=>{h(a=>a.includes(k.src)?a:[...a,k.src]),f(a=>null===a?a:j.length>1?(a+1)%j.length:null)},className:"pointer-events-none h-auto max-h-[80vh] w-auto max-w-[90vw] select-none rounded-2xl border border-white/10 object-contain",priority:!0}),(0,b.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-10",style:{backgroundImage:"url('/gallery/logo metal magic white.png')",backgroundRepeat:"repeat",backgroundSize:"180px 180px",backgroundPosition:"center"}}),(0,b.jsx)("button",{type:"button","aria-label":"Previous image",onClick:()=>f(a=>null===a?a:(a-1+j.length)%j.length),className:"absolute -left-[70px] top-1/2 hidden -translate-y-1/2 rounded-full bg-[#1D3461] force-white px-3 py-2 text-sm font-semibold text-white transition hover:bg-black md:block",children:"Prev"}),(0,b.jsx)("button",{type:"button","aria-label":"Next image",onClick:()=>f(a=>null===a?a:(a+1)%j.length),className:"absolute -right-[70px] top-1/2 hidden -translate-y-1/2 rounded-full bg-[#1D3461] force-white px-3 py-2 text-sm font-semibold text-white transition hover:bg-black md:block",children:"Next"})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-4 text-xs uppercase tracking-[0.3em] text-white/60",children:[(0,b.jsx)("span",{children:k.tags.join(" â€¢ ")}),(0,b.jsxs)("span",{children:[(e??0)+1," / ",j.length]})]})]})]}):null]})}let f=["Fences","Railing","Stairs","Gates","Security","Automatic Gate System","Repairs","Others"];function g({items:a}){let[d,g]=(0,c.useState)(null),[h,i]=(0,c.useState)("All");(0,c.useEffect)(()=>{let a=!0;return(async()=>{try{let b=await fetch("/api/gallery/local",{cache:"no-store"});if(!b.ok)throw Error("Failed");let c=await b.json();if(!a)return;g(c.items??[])}catch{if(!a)return;g([])}})(),()=>{a=!1}},[]);let j=d&&d.length>0?d:a,k=(0,c.useMemo)(()=>j,[j]),l=(0,c.useMemo)(()=>{let a=new Set;k.forEach(b=>{b.tags.forEach(b=>a.add(b))}),a.delete("Gallery"),a.delete("gallery");let b=Array.from(a).filter(a=>!f.includes(a));return["All",...f,...b]},[k]),m=(0,c.useMemo)(()=>"All"===h?k:k.filter(a=>a.tags.includes(h)),[k,h]);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex flex-wrap gap-3",children:l.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>i(a),className:`rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-[0.25em] transition ${h===a?"border-[#1D3461] bg-[#1D3461] !text-white":"border-white/15 bg-white/5 text-white/70 hover:border-white/40 hover:text-white"}`,children:a},a))}),(0,b.jsx)(e,{items:m})]})}a.s(["default",()=>g],87776)}];

//# sourceMappingURL=_c3e8ef81._.js.map