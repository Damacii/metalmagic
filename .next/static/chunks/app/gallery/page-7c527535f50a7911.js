(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{8653:function(e,t,n){Promise.resolve().then(n.bind(n,546))},546:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var r=n(7437),l=n(2265),i=n(6648);function s(e){var t;let{items:n}=e,[s,a]=(0,l.useState)(null),[o,c]=(0,l.useState)([]);(0,l.useEffect)(()=>{if(null===s)return;let e=e=>{if("Escape"===e.key){a(null);return}"ArrowRight"===e.key&&a(e=>null===e?e:(e+1)%n.length),"ArrowLeft"===e.key&&a(e=>null===e?e:(e-1+n.length)%n.length)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,n.length]);let u=(0,l.useMemo)(()=>n.filter(e=>!o.includes(e.src)),[n,o]),d=null!==s?u[s]:null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"columns-1 sm:columns-2 lg:columns-4 [column-gap:1rem]",children:u.map((e,t)=>{var n;return(0,r.jsxs)("button",{type:"button",onClick:()=>a(t),className:"group relative mb-4 w-full break-inside-avoid overflow-hidden rounded-2xl border border-white/10 bg-white/5 text-left",children:[(0,r.jsx)(i.default,{src:e.src,alt:"".concat(null!==(n=e.tags[0])&&void 0!==n?n:"Project"," project"),width:640,height:480,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 25vw",quality:70,unoptimized:!0,onError:()=>c(t=>t.includes(e.src)?t:[...t,e.src]),className:"h-auto w-full transition duration-500 group-hover:scale-[1.02]"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]},"".concat(e.src,"-").concat(t))})}),d?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 px-4 py-10",role:"dialog","aria-modal":"true",children:[(0,r.jsx)("button",{type:"button","aria-label":"Close",onClick:()=>a(null),className:"absolute right-6 top-6 rounded-full bg-[#1D3461] force-white px-3 py-2 text-sm font-semibold text-white transition hover:bg-black",children:"X"}),(0,r.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.default,{src:d.src,alt:"".concat(null!==(t=d.tags[0])&&void 0!==t?t:"Project"," enlarged"),width:1600,height:1200,sizes:"(max-width: 768px) 95vw, 90vw",unoptimized:!0,loading:"eager",onError:()=>{c(e=>e.includes(d.src)?e:[...e,d.src]),a(e=>null===e?e:u.length>1?(e+1)%u.length:null)},className:"h-auto max-h-[80vh] w-auto max-w-[90vw] rounded-2xl border border-white/10 object-contain",priority:!0}),(0,r.jsx)("button",{type:"button","aria-label":"Previous image",onClick:()=>a(e=>null===e?e:(e-1+u.length)%u.length),className:"absolute -left-[70px] top-1/2 hidden -translate-y-1/2 rounded-full bg-[#1D3461] force-white px-3 py-2 text-sm font-semibold text-white transition hover:bg-black md:block",children:"Prev"}),(0,r.jsx)("button",{type:"button","aria-label":"Next image",onClick:()=>a(e=>null===e?e:(e+1)%u.length),className:"absolute -right-[70px] top-1/2 hidden -translate-y-1/2 rounded-full bg-[#1D3461] force-white px-3 py-2 text-sm font-semibold text-white transition hover:bg-black md:block",children:"Next"})]}),(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-4 text-xs uppercase tracking-[0.3em] text-white/60",children:[(0,r.jsx)("span",{children:d.tags.join(" â€¢ ")}),(0,r.jsxs)("span",{children:[(null!=s?s:0)+1," / ",u.length]})]})]})]}):null]})}var a=n(1180);function o(e){let{items:t}=e,[n,i]=(0,l.useState)({}),[o,c]=(0,l.useState)("All");(0,l.useEffect)(()=>{if(!a.O)return;let e=!0,t=a.O;return(async()=>{let{data:n,error:r}=await t.from("gallery_items").select("src, category");if(r||!n||!e)return;let l={};n.forEach(e=>{e.category&&(l[e.src]=e.category)}),i(l)})(),()=>{e=!1}},[]);let u=(0,l.useMemo)(()=>t.map(e=>{let t=n[e.src];return t?{...e,tags:[t]}:e}),[t,n]),d=(0,l.useMemo)(()=>{let e=new Set;return u.forEach(t=>{t.tags.forEach(t=>e.add(t))}),["All",...Array.from(e).sort()]},[u]),h=(0,l.useMemo)(()=>"All"===o?u:u.filter(e=>e.tags.includes(o)),[u,o]);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:d.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>c(e),className:"rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-[0.25em] transition ".concat(o===e?"border-[#1D3461] bg-[#1D3461] !text-white":"border-white/15 bg-white/5 text-white/70 hover:border-white/40 hover:text-white"),children:e},e))}),(0,r.jsx)(s,{items:h})]})}},1180:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var r=n(4593);let l="https://qavufnmvclihoacgnsql.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFhdnVmbm12Y2xpaG9hY2duc3FsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1NTE3NTQsImV4cCI6MjA4MzEyNzc1NH0.DSgogUXohj92shNZiy_m5_xZw4VquI-sHOSu8cK-isU",s=l&&i?(0,r.eI)(l,i):null},6648:function(e,t,n){"use strict";n.d(t,{default:function(){return l.a}});var r=n(5601),l=n.n(r)},5601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return o},getImageProps:function(){return a}});let r=n(9920),l=n(497),i=n(8173),s=r._(n(1241));function a(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let o=i.Image}},function(e){e.O(0,[17,173,971,23,744],function(){return e(e.s=8653)}),_N_E=e.O()}]);